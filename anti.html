<!DOCTYPE html>
<html>
<head>
    <title>Reservation Data</title>
</head>
<body>
    <h1>Reservation Data</h1>
    <table border="1" id="reservation-table">
        <tr>
            <th>INDEX</th>
            <th>RESERVATION_ID</th>
            <th>CUST_EMAIL</th>
            <th>CUST_NAME</th>
            <th>STORE_ID</th>
            <th>BOOK_TIME</th>
            <th>START_TIME</th>
            <th>END_TIME</th>
            <th>PICKUP_NUMBER</th>
            <th>RESERVATION_STATUS</th>
            <th>SIZE</th>
        </tr>
    </table>

    <script>
        // Function to create table rows with data
        function createTableRow(data) {
            var row = "<tr>";
            row += "<td>" + data.index + "</td>";
            row += "<td>" + data.reservation_id + "</td>";
            row += "<td>" + data.cust_email + "</td>";
            row += "<td>" + data.cust_name + "</td>";
            row += "<td>" + data.store_id + "</td>";
            row += "<td>" + data.book_time + "</td>";
            row += "<td>" + data.start_time + "</td>";
            row += "<td>" + data.end_time + "</td>";
            row += "<td>" + data.pickup_number + "</td>";
            row += "<td>" + data.reservation_status + "</td>";
            row += "<td>" + data.size + "</td>";
            row += "</tr>";
            return row;
        }

        // Function to fetch data from the server and populate the table
        function fetchReservationData() {
            fetch("fetch.php")
            .then(response => response.json())
            .then(data => {
                var table = document.getElementById("reservation-table");
                data.forEach(rowData => {
                    var newRow = createTableRow(rowData);
                    table.innerHTML += newRow;
                });
            })
            .catch(error => console.error("Error:", error));
        }

        // Call the function to populate the table on page load
        fetchReservationData();
    </script>
</body>
</html>
